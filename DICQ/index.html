<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="DIMP Client" />
    <meta name="author" content="Albert Moky" />
    <title>DICQ 2020 - DIM demo</title>
    <script src="../Client/src/includes.js"></script>
    <style>
        .qrCode {
            position: absolute;
            padding: 4px;
            /*width: 64px;*/
            /*height: 64px;*/
            right: 24px;
            bottom: 24px;
            background-color: white;
        }
    </style>
</head>
<body>
<script>
    !function () {
        var data = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAQKADAAQAAAABAAAAQAAAAABGUUKwAAADeklEQVR4Ae2a4W7bQAyD4yHv/8qZ1eFzWVqn3TnBfkwusOlEkXLGY9ts3fZ4PF77r0sfr9e3dNu2Hzt09mOwN85lnmngMvM+tGDsWam/Vsj/Izeu7esacXjmD4njmYYZezIOM6+u1Xm1B13F0V1xRtM+Ac+RM45HXzmMo+jggtPHPMPQUZUPFnVGC0d1nH1v+wS0N+D0KUBUVivRIn5UcN2XYTqPc6V37jv9nYB33FPt6MbAletnEkGNueu89x1X+zsB7pzegs+qfqTLcG6TmffZc5ybccDg0lf1TgDucAv0qxU97o/62PsOp3pdPLPi+Kx9Arb9Nr7/Tuv2LPTu/sxa1+jjXA/XcdVcObdPQHsDlt4KE0OipnHUM/OoaHQOBo+Z45keDpoZDprgogNrn4CPfxF0h8N1/4ADzm3QV9W1GZd9cOmVy6x9Ap7uDs6oW85hlnGZeVUu+8Co4KEF8z1wdA7mXHrlglHbJ+D0r8KZmzjIjB4XozJTLM4z3IzDHvY6BxyeVufqzM/tE/DErcxRZu4a3GzuWMaFw4z92sOhMqNHU9VM41j7BLQ34PRWWCPmcdFZRI95FUPXqI5Ztcdn9GhX9/Fa2XMnAEdwFGcCB4OjMzDqCheNV98Rc8eq18A+14Bn+9on4HgjpC5xxklcp2cOTr9afd+q/m/86vXx7DsBu4vD/yBROThyH2dH88Bn9s7sqZ4xeg57eQ3tE9DegOONEJHIYuWx8T40YK5n72iu/IyDXnlxVu6I45qsb5+A07dBdTZzLDAcn+GyAw19VNdnHOXr2bU68z0ZF077BBxfA3AJZ8LRDFNcXees+hH3yl72U/05+qzRfrTKbZ+A42tA5Vo1U1f1jAYsuzFmcCsO3JU6s/dOwO7SR388zjpu0/u4QbCV24Tre8G1wlGMsz+7fQLaG3D60RhRmakaJz2rtoqjz3SHz3Snn+GqPjjeuy769gk4fRvMXHIscxzMuVXPDVXaEQc82+/7Km77BBxvhXHS3QOPWjnJzPXgumfmjM73oR3hzKOyQzHO6O8E4Mi/rLg/88zRLeoOOGCjPp7nnDsBM7ewwsH9SuMcbkU1YHC9v8pVXZzbJ6C9Aadvg0TOo7LaE9lKt/Is52o/elaGo2N2J4AbwhH6T1ecj708i8qMPjhgcY4PZo7/mea/w0WrLGbtE/Ab1wUSdJ1JM1MAAAAASUVORK5CYII=';
        var img = document.createElement('IMG');
        img.className = 'qrCode';
        img.src = data;
        document.body.appendChild(img);
    }();
</script>
<script>
    window.onerror = function (msg, url, line, column, error) {
        if (window['Bubble']) {
            var bubble = new Bubble();
            bubble.showText(msg);
        } else {
            var text = url + '[' + line + ']: ' + msg;
            alert(text);
        }
    };
</script>
<script>
    var base = (function (loc) {
        var path = loc.pathname;
        var p1 = path.lastIndexOf('/');
        if (p1 > 0) {
            var p2 = path.lastIndexOf('.');
            if (p2 > p1) {
                path = path.substring(0, p1 + 1);
            } else if (p1 !== (path.length - 1)) {
                path += '/';
            }
        } else {
            path = '/';
        }
        return loc.protocol + '//' + loc.host + path;
    })(window.location);
    var url = base + 'connect.js';

    !function (w, d, t, l) {

        // var b = 'http://dimchat.github.io/apps/',
        // var b = 'http://apps.dim.chat/',
        // var b = 'http://desktop.dim.chat/',
        var b = base,
            j = function (u,b) {w[t].importJS(u,b)},
            e = 'onreadystatechange',
            x = d.createElement('SCRIPT'),
            f = function() {
                var _ = this.readyState;
                if (!_ || _ === 'loaded' || _ === 'complete') {
                    j(b + 'js/index.js', function () {
                        dicq.loader.importJS(l);
                    });
                }
            };
        x.src = b + 'js/Tarsier/tarsier.min.js';
        (typeof x[e] == 'undefined') ? x.onload = f: x[e] = f;
        d.getElementsByTagName('HEAD')[0].appendChild(x);

    }(window, document, 'tarsier', url);

    // javascript:!function(w,d,t,l){var b="http://apps.dim.chat/",j=function(u,b){w[t].importJS(u,b)},e="onreadystatechange",x=d.createElement("SCRIPT"),f=function(){var _=this.readyState;if(!_||_==="loaded"||_==="complete"){j(b+"DICQ/js/index.js",function(){dicq.loader.importJS(l)})}};x.src=b+"Tarsier/tarsier.min.js";(typeof x[e]=="undefined")?x.onload=f:x[e]=f;d.getElementsByTagName("HEAD")[0].appendChild(x)}(window,document,"tarsier","http://apps.dim.chat/DICQ/connect.js");
</script>
</body>
</html>
