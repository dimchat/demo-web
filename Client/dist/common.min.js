/**
 *  DIM-Common (v0.1.0)
 *  (DIMP: Decentralized Instant Messaging Protocol)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      June. 11, 2021
 * @copyright (c) 2021 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */;
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('"1P"!==1s F&&(F=H G.1Q);(7(k,e){"1P"!==1s k.J&&(k.J=H e.1Q);"1P"!==1s k.Q&&(k.Q=H e.1Q);"1P"!==1s k.X&&(k.X=H e.1Q);"1P"!==1s k.A&&(k.A=H e.1Q);k.K("J");k.K("Q");k.K("X");k.K("A")})(F,G);(7(k,e){i m=e.J.27,g=7(){m.D(5)};e.R(g,m,s);g.j.2N=7(h,a){9 s};k.J.2O=g;k.J.K("2O")})(F,G);(7(k,e){i m=e.A.12,g=e.A.3W,h=e.A.3X,a=e.A.3Y,b=e.A.3Z,d=e.A.40,f=e.A.41,c=e.A.5i,l=e.A.5j,p=e.A.17.42,r=e.A.17.5k,u=e.A.17.5l,y=e.A.17.43,z=e.A.17.5m,x=7(n){9 k.44.1t().1E(m.U(n))};k.J.45={5n:7(n){9 n B g?n B h?"[46:"+n.28()+"]":n B a?"[47:"+n.28()+"]":n B b?"[48:"+n.28()+"]":"[2P:"+n.28()+"]":n B d?n.5o():n B f?"[2P:"+n.5p()+"]":"49 4a 4b\'t 4c 5 1u 29: "+n.4d()},5q:7(n,q){9 n B l?5.4e(n,q):n B c?5.4f(n,q):"49 4a 4b\'t 4c 5 4g: "+n.5r()},4e:7(n,q){i t=n.1b("1v");o(t)9 t;o(n B p)9 5.4h(n,q);o(n B r)9 5.4i(n,q);o(n B u)9 5.4j(n,q);o(n B y)9 5.4k(n,q);o(n B z)9 5.4l(n,q);13 1w("5s 17 4g: "+n);},4h:7(n,q){i t=n.1b("2Q");t||(t=[]);L(i v=[],w=0;w<t.C;++w)v.Y(x(t[w]));q=x(q)+" 2a 5t 1F: "+v.2b(", ");n.S("1v",q);9 q},4i:7(n,q){i t=n.1b("2c");t||(t=[]);L(i v=[],w=0;w<t.C;++w)v.Y(x(t[w]));q=x(q)+" 2a 2c 1F: "+v.2b(", ");n.S("1v",q);9 q},4j:7(n,q){q=x(q)+" 2a 5u 17 5v.";n.S("1v",q);9 q},4k:7(n,q){q=x(q)+" 2a 5w 1F";i t,v=n.1b("2c");o(v&&0<v.C){i w=[];L(t=0;t<v.C;++t)w.Y(x(v[t]));q+=", 2c: "+w.2b(", ")}o((v=n.1b("2Q"))&&0<v.C){w=[];L(t=0;t<v.C;++t)w.Y(x(v[t]));q+=", 2Q: "+w.2b(", ")}n.S("1v",q);9 q},4l:7(n,q){q=x(q)+" 5x 5y 17 5z, 5A...";n.S("1v",q);9 q},4f:7(n,q){q=n.2R();i t=n.5B();t&&(t="("+t.5C+":"+t.5D+") "+x(t.12));q=x(q)+" 5E: "+t;n.S("1v",q);9 q}};k.J.K("45")})(F,G);(7(k,e){i m=e.A.5F,g=e.A.3W,h=e.A.3X,a=e.A.3Y,b=e.A.3Z,d=e.A.40,f=e.A.41,c=e.J.4m,l=7(){c.D(5)};e.R(l,c,s);l.j.2d=7(p,r){o(p B g)i u=p B h?"46 1m":p B a?"47 1u 1m":p B b?"48 1m":"2P 1m";18 o(p B d)u="5G 1u 1m";18 o(p B f)u="5H 5I 1m";18 9 c.j.2d.D(5,p,r);o(p.2e())9 s;u=H m(u);u.5J(p.5K());u.5L(r.5M());u.5N(r.1b("5O"));9 u};k.J.2S=l;k.J.K("2S")})(F,G);(7(k,e){i m=e.J.27,g=7(){m.D(5)};e.R(g,m,s);g.j.2N=7(h,a){9 s};k.J.2T=g;k.J.K("2T")})(F,G);(7(k,e){i m=e.J.27,g=7(){m.D(5)};e.R(g,m,s);g.j.2N=7(h,a){9 s};k.J.2U=g;k.J.K("2U")})(F,G);(7(k,e){k.Q.5P={2R:7(m){I.1f(!1,"1n 1o!");9 s},5Q:7(m,g){I.1f(!1,"1n 1o!");9!1},5R:7(m){I.1f(!1,"1n 1o!");9!1}}})(F,G);(7(k,e){i m=e.A.12,g=e.1x.1G,h=e.1R.1S;k.Q.2f={1T:7(a){5.P();9(a=5.1y[a.E()])?m.2g(a):s},2V:7(a,b){i d=5.1T(b);o(d){o(0<=d.14(a.E()))9!1;d.Y(a.E())}18 d=[a.E()];9 5.2W(d,b)},2X:7(a,b){i d=5.1T(b);o(!d)9!1;a=d.14(a.E());o(0>a)9!1;d.1U(a,1);9 5.2W(d,b)},2W:7(a,b){5.P();5.1y[b.E()]=m.4n(a);I.1e("2h 2Y L 1c",b);o(5.N())9 h.1t().1V("5S",5,{1c:b,2Y:a}),!0;13 1w("1d 19 N 2Y: "+b+" -> "+a);},P:7(){5.1y||(5.1y=g.1z("2f"),5.1y||(5.1y={}))},N:7(){9 g.1A(5.Z,"2f")},1y:s}})(F,G);(7(k,e){i m=e.A.12,g=e.A.5T,h=e.1x.1G,a=e.1R.1S;k.Q.2i={2j:7(b,d){5.P();9(b=5.1h[b.E()])?g.U(b):s},2Z:7(b){o(!b.4o())9 I.11("4p 2k 5U",b),!1;i d=b.2R();o(!d)13 1w("5V 12 11: "+b);5.P();5.1h[d.E()]=b.1B();I.1e("2h 4p",d);o(5.N())9 a.1t().1V(k.5W,5,b),!0;13 1w("1d 19 N 5X: "+d+" -> "+b.1b("1W"));},P:7(){o(!5.1h){i b=h.1z("2i"),d={};o(b)L(i f,c,l=2l.2m(b),p=0;p<l.C;++p)f=l[p],c=b[f],f=m.U(f),c=g.U(c),f&&c&&(d[f]=c);5.1h=d;5.1h||(5.1h={})}},N:7(){9 h.1A(5.1h,"2i")},1h:s}})(F,G);(7(k,e){i m=e.A.12,g=e.1x.1G,h=e.1R.1S;k.Q.2n={2o:7(a){9 s},1C:7(a){9 s},1p:7(a){5.P();9(a=5.1g[a.E()])?m.2g(a):s},30:7(a,b){i d=5.1p(b);o(d){o(0<=d.14(a.E()))9!1;d.Y(a.E())}18 d=[a.E()];9 5.1X(d,b)},31:7(a,b){i d=5.1p(b);o(!d)9!1;a=d.14(a.E());o(0>a)9!1;d.1U(a,1);9 5.1X(d,b)},1X:7(a,b){5.P();5.1g[b.E()]=m.4n(a);I.1e("2h 1F L 17",b);o(5.N())9 h.1t().1V("5Y",5,{17:b,1F:a}),!0;13 1w("1d 19 N 1F: "+b+" -> "+a);},32:7(a){5.P();o(5.1g[a.E()])9 5Z 5.1g[a.E()],5.N();I.11("17 2k 2p: "+a);9!1},P:7(){5.1g||(5.1g=g.1z("2n"),5.1g||(5.1g={}))},N:7(){9 g.1A(5.1g,"2n")},1g:s}})(F,G);(7(k,e){k.Q.60={61:7(m){},62:7(m){},1h:s}})(F,G);(7(k,e){i m=e.A.12,g=e.A.63,h=e.1x.64,a=e.1R.1S;k.Q.65={66:7(){9 2l.2m(5.1q).C},4q:7(b){i d=2l.2m(5.1q);9 m.U(d[b])},67:7(b){b=5.4q(b);9 5.4r(b)},4r:7(b){},68:7(b){9(b=5.1H(b))?b.C:0},69:7(b){},6a:7(b){},6b:7(b){9(b=5.1H(b))&&0<b.C?g.U(b[b.C-1]):s},6c:7(b){},6d:7(b,d){d=5.1H(d);I.1f(s!==d,"1d 19 1Y 4s L 4t: "+O);9 g.U(d[b])},6e:7(b,d){i f=5.1H(d);o(f){a:{i c=f;i l,p;(l=b.2q.2r)||(l=0);i r=b.1Z.2s;i u;L(u=c.C-1;0<=u;--u){i y=c[u];o((p=y.2q.2r)&&p<l)1I;p=y.1Z.2s;o(r===p){I.1e("6f 1u, 6g 6h 19 33");c=!1;1I a}}k.29.4u.33(c,u+1,b);c=!0}o(!c)9!1}18 f=[b];o(5.34(f,d))9 a.1t().1V(k.6i,5,b),!0;13 1w("1d 19 N 1u: "+b);},6j:7(b,d){i f=5.1H(d);I.1f(s!==f,"1d 19 1Y 4s L 4t: "+d);a:{i c,l;(c=b.2q.2r)||(c=0);i p=b.1Z.2s;i r;L(r=f.C-1;0<=r;--r){i u=f[r];o((l=u.2q.2r)&&l<c){I.1e("1u 2k 6k");b=!1;1I a}l=u.1Z.2s;o(p===l)1I}k.29.4u.33(f,r+1,b);b=!0}9 b?5.34(f,d):!1},6l:7(b,d){},6m:7(b,d){},1H:7(b){5.P(b);b=5.1q[b];i d=[];o(b)L(i f=0;f<b.C;++f)d.Y(g.U(b[f]));9 d},34:7(b,d){i f=[];o(b)L(i c=0;c<b.C;++c)f.Y(b[c].1B());5.1q[d.E()]=f;9 5.N(d)},P:7(b){5.1q[b.E()]||(5.1q[b.E()]=h.1z("4v-"+b.35().E()))},N:7(b){9 h.1A(5.1q[b.E()],"4v-"+b.35().E())},1q:{}}})(F,G);(7(k,e){i m=e.A.6n,g=e.1x.1G,h=e.1R.1S;k.Q.2t={1J:7(a){5.P();9(a=5.1i[a.E()])?m.U(a):s},36:7(a,b){o(!a.6o(b))9 I.11("1K 6p 6q",b,a),!1;5.P();o(5.1i[b.E()])9 I.1e("1K 4w 2p",b),!0;5.1i[b.E()]=a.1B();I.1e("2h 1K",b);o(5.N())9 h.1t().1V(k.6r,5,{12:b,1K:a}),!0;a="1d 19 N 1K: "+b+" -> "+e.37.6s.4x(a);I.1e(a);9!1},P:7(){5.1i||(5.1i=g.1z("2t"),5.1i||(5.1i={}))},N:7(){9 g.1A(5.1i,"2t")},1i:s}})(F,G);(7(k,e){k.Q.6t={6u:7(m,g){},6v:7(m,g,h){},15:s}})(F,G);(7(k,e){i m=e.38.6w,g=e.1x.1G;k.Q.4y={2u:"M",4z:"V",39:7(a,b,d,f,c){5.P();5.15[h(a,d)]=b.1B();d===5.2u&&(5.15[h(a,s)]=b.1B());9 5.N()},3a:7(a){5.P();i b=[],d=5.15[h(a,s)],f=5.15[h(a,5.2u)];a=5.15[h(a,5.4z)];d=m.U(d);f=m.U(f);(a=m.U(a))&&b.Y(a);0>b.14(f)&&b.Y(f);0>b.14(d)&&b.Y(d);9 b},20:7(a){9 5.20(a)},3b:7(a){5.P();i b=5.15[h(a,5.2u)];b||(b=5.15[h(a,s)]);9 m.U(b)},P:7(){5.15||(5.15=g.1z("4A"),5.15||(5.15={}))},N:7(){9 g.1A(5.15,"4A")},15:s};i h=7(a,b){o(!b||0===b.C)9 a.E();i d=a.6x();9 d&&0<d.C?a.E()+"#"+b:a.E()+"/"+b}})(F,G);(7(k,e){i m=e.A.12,g=e.1x.1G;k.Q.2v={1L:7(){5.P();9 m.2g(5.Z)},3c:7(h){i a=5.1L();o(0>a.14(h))9 a.Y(h.E()),5.N();I.11("1c 4w 2p",h);9!1},3d:7(h){i a=5.1L(),b=a.14(h.E());o(0>b)9 I.11("1c 2k 2p",h),!0;a.1U(b,1);9 5.N()},3e:7(h){i a=5.1L(),b=a.14(h.E());o(0===b)9!0;0<b&&a.1U(b,1);a.6y(h.E());9 5.N()},21:7(){i h=5.1L();9 0<h.C?m.U(h[0]):s},P:7(){5.Z||(5.Z=g.1z("2v"),5.Z||(5.Z=[]))},N:7(){9 g.1A(5.Z,"2v")},Z:s}})(F,G);(7(k,e){i m=7(){5.W=[]};e.R(m,s,s);m.j.4B=7(g){g=H k.X.3f(g);5.W.Y(g);9!0};m.j.4C=7(){9 0<5.W.C?5.W.4C():s};m.j.4D=7(){L(i g,h=0;h<5.W.C;++h)o(g=5.W[h],g.4E())9 g.4F(),g;9 s};m.j.3g=7(){L(i g,h=0;h<5.W.C;++h)o(g=5.W[h],!g.2w()||g.4G())9 5.W.1U(h,1),g;9 s};k.X.3h=m;k.X.K("3h")})(F,G);(7(k,e){i m=e.6z.6A,g=e.4H.6B,h=7(){m.D(5);o(2===T.C)5.1r=T[0],5.3i=T[1];18 o(3===T.C)5.1r=k.X.3j.4I(T[0],T[1]),5.3i=T[2];18 13 H 4J("6C T 11: "+T);5.1r.3k(5);5.W=H k.X.3h;5.3l=!1};e.R(h,m,[g.4K]);h.22=6D;h.j.3m=7(a){};h.j.1a=7(){9 5.3i};h.j.3n=7(){9 5.3l&&5.1r.3o()};h.j.6E=7(a){5.3l=a};h.j.6F=7(){5.2x=!1};h.j.4L=7(){5.2x=!0;9 5.1r.4L()};h.j.2y=7(){5.2x=!1;o(5.1r.2y())9!0;i a;L(a=5.W.4M();a;)(a=a.2w())&&5.3m(a),a=5.W.4M();9!1};h.j.3o=7(){9 5.2x&&5.1r.3o()};h.j.2d=7(){o(5.1r.2d())9!0;i a;L(a=5.W.3g();a;)(a=a.2w())&&5.3m(a),a=5.W.3g();o(!5.3n())9!1;i b=5.W.4D();a=b?b.1a():s;o(!a)9!1;5.1a().4N(a,b,0)||b.4O();9!0};h.j.Y=7(a){9 5.3n()?5.W.4B(a):!1};h.j.6G=7(a,b,d){o(d.1D(g.6H.6I))5.1a().4P()};h.j.6J=7(a,b){a=b.6K();I.1e("1m 1W",a);2z{9 5.1a().6L(a)}2A(d){9 I.1e("1m 1W 11",a),s}};k.X.3p=h;k.X.K("3p")})(F,G);(7(k,e){i m=e.4Q.6M,g=e.4Q.6N,h=7(a){g.D(5,a)};e.R(h,g,s);h.4I=7(a,b){a=H m(a,b);b=H h(a);a.3k(b);b.2B();9 b};h.j.2B=7(){5.4R.2B();g.j.2B.D(5)};h.j.2y=7(){g.j.2y.D(5);5.4R.6O()};k.X.3j=h;k.X.K("3j")})(F,G);(7(k,e){i m=7(g){5.3q=g;5.1j=0};e.R(m,s,[e.4H.6P.4K,e.6Q]);m.j.2w=7(){9 5.3q};m.j.4F=7(){5.1j=1};m.j.4O=7(){5.1j=-1};m.j.4E=7(){9 0===5.1j};m.j.4G=7(){9 0>5.1j?!0:0===5.1j?!1:(H 3r).3s()-5.1j>k.X.3p.22};m.j.6R=7(g,h){h?5.1j=-1:5.3q=s};m.j.6S=7(g,h){5.1j=h?-1:(H 3r).3s()};k.X.3f=m;k.X.K("3f")})(F,G);(7(k,e){i m=e.A.3t,g=7(){0===T.C?m.D(5,g.2C):"4S"===1s T[0]?(m.D(5,g.2C),5.4T(T[0])):m.D(5,T[0])};e.R(g,m,s);g.2C="6T";g.4U="6U";g.4V="6V";g.j.4T=7(h){5.S("4W",h)};g.j.6W=7(){9 5.1b("4W")};k.A.3u=g;k.A.K("3u")})(F,G);(7(k,e){i m=e.A.12,g=e.A.3t,h=7(){0===T.C?g.D(5,h.3v):"4S"===1s T[0]?(g.D(5,h.3w),5.4X(T[0])):g.D(5,T[0])};e.R(h,g,s);h.3w="6X";h.3v="4Y";h.j.4X=7(a){5.S("6Y",a)};h.j.6Z=7(){i a=5.1b("4Y");9 a?m.2g(a):s};h.j.70=7(){9 5.1b("71")};k.A.3x=h;k.A.K("3x")})(F,G);(7(k,e){i m=e.A.72,g=e.A.12,h=e.73.74,a=7(){};e.R(a,s,s);a.1E=7(d){i f;e.3y.3z(d,g)?(f=d.1E())&&0!==f.C||(f=b(d.4d())):f=b(d.75());d=a.4Z(d);9 f+" ("+d+")"};a.4Z=7(d){L(d=""+a.50(d);10>d.C;)d="0"+d;9 d.23(0,3)+"-"+d.23(3,3)+"-"+d.23(6)};a.50=7(d){e.3y.3z(d,g)&&(d=d.35());o(d B h){d=e.37.76.77(d);i f=d.C;9(d[f-1]&2D|(d[f-2]&2D)<<8|(d[f-3]&2D)<<16)+78*(d[f-4]&2D)}13 H 79("7a 11: "+d.E());};i b=7(d){9 m.7b.1D(d)?"7c":m.7d.1D(d)?"7e":m.7f.1D(d)?"7g":m.7h(d)?"51":m.3A(d)?"52":"7i"};k.3B=a;k.K("3B")})(F,G);(7(k,e){i m=e.38.7j,g=e.A.12,h=e.7k,a=e.51,b=e.52,d=e.44,f=7(){d.D(5);5.Z=s;5.24=k.Q.4y;5.3C=k.Q.2t;5.3D=k.Q.2i;5.1M=k.Q.2v;5.2E=k.Q.2f;5.1k=k.Q.2n};e.R(f,d,s);f.22=7l;f.25="7m";f.j.7n=7(){o(!5.Z){L(i c=5.1M.1L(),l=[],p,r=0;r<c.C;++r)o(p=5.3E(c[r]))l.Y(p);18 13 1w("1d 19 1Y 7o 1c:"+p);5.Z=l}9 5.Z};f.j.21=7(){i c=5.1M.21();9 c?5.3E(c):d.j.21.D(5)};f.j.3e=7(c){5.Z=s;c B a&&(c=c.O);9 5.1M.3e(c)};f.j.3c=7(c){5.Z=s;c B a&&(c=c.O);9 5.1M.3c(c)};f.j.3d=7(c){5.Z=s;c B a&&(c=c.O);9 5.1M.3d(c)};f.j.2V=7(c,l){c B h&&(c=c.O);l B a&&(l=l.O);9 5.2E.2V(c,l)};f.j.2X=7(c,l){c B h&&(c=c.O);l B a&&(l=l.O);9 5.2E.2X(c,l)};f.j.39=7(c,l){l B a&&(l=l.O);9 5.24.39(c,l)};f.j.36=7(c,l){9 5.3C.36(c,l)};f.j.2Z=7(c){o(!5.7p(c))9!1;c.S(f.25,s);9 5.3D.2Z(c)};f.j.7q=7(c,l){i p=(H 3r).3s(),r=c.1b(f.25);o(!r)9 c.S(f.25,p+f.22),!1;o(p<r)9!1;l&&c.S(f.25,p+f.22);9!0};f.j.30=7(c,l){c B a&&(c=c.O);l B b&&(l=l.O);9 5.1k.30(c,l)};f.j.31=7(c,l){c B a&&(c=c.O);l B b&&(l=l.O);9 5.1k.31(c,l)};f.j.1X=7(c,l){l B b&&(l=l.O);9 5.1k.1X(c,l)};f.j.32=7(c){c B b&&(c=c.O);9 5.1k.32(c)};f.j.53=7(c,l){c B a&&(c=c.O);l B b&&(l=l.O);i p=5.1p(l);9 p&&0<=p.14(c)?!0:(l=5.1C(l))&&l.1D(c)};f.j.54=7(c,l){c B a&&(c=c.O);l B b&&(l=l.O);9(l=5.2F(l))&&0<=l.14(c)};f.j.1E=7(c){i l=5.2j(c,"*");9 l&&(l=l.1E())&&0<l.C?l:k.3B.1E(c)};f.j.55=7(c){9 c.1N()||5.1J(c)?d.j.55.D(5,c):s};f.j.56=7(c){9 c.1N()||5.1J(c)?d.j.56.D(5,c):s};f.j.1J=7(c){9 c.1N()?s:5.3C.1J(c)};f.j.2j=7(c,l){9 5.3D.2j(c,l)};f.j.1T=7(c){9 5.2E.1T(c)};f.j.3a=7(c){i l=5.24.3a(c);l&&0!==l.C||(c=5.20(c),e.3y.3z(c,m)&&(l=[c]));9 l};f.j.20=7(c){9 5.24.20(c)};f.j.3b=7(c){9 5.24.3b(c)};f.j.2o=7(c){i l=5.1k.2o(c);9 l?l:d.j.2o.D(5,c)};f.j.1C=7(c){i l=5.1k.1C(c);9 l?l:d.j.1C.D(5,c)};f.j.1p=7(c){i l=5.1k.1p(c);9 l&&0<l.C?l:d.j.1p.D(5,c)};f.j.2F=7(c){9(c=5.1k.2F(c))&&0<c.C?c:(c=g.U("7r"))?[c]:s};k.3F=f;k.K("3F")})(F,G);(7(k,e){i m=e.29.2l,g=7(){m.D(5);5.1O={};5.2G=!1};e.R(g,m,[e.7s]);g.j.7t=7(){i a=5.2H();9 a?5.3G(a):!1};g.j.57=7(){5.2G&&5.3H(5.1O)&&(5.2G=!1)};g.j.3H=7(a){I.1f(!1,"1n 1o!");9!1};g.j.2H=7(){I.1f(!1,"1n 1o!");9 s};g.j.3G=7(a){o(!a)9!1;i b=!1,d,f;L(d 3I a)o(a.58(d)){i c=a[d];L(f 3I c)o(c.58(f)){i l=c[f];i p=(p=5.1O[d])?p[f]:s;p!==l&&(b=!0);h.D(5,d,f,l)}}9 b};i h=7(a,b,d){i f=5.1O[a];o(f){o((a=f[b])&&a.1D(d))9}18 f={},5.1O[a]=f;f[b]=d};g.j.2I=7(a,b){b=b.1N()?k.38.7u.1t():(a=5.1O[a])?a[b]:s;9 b};g.j.7v=7(a,b,d){b.1N()||(h.D(5,a,b,d),5.2G=!0)};k.3J=g;k.K("3J")})(F,G);(7(k,e){i m=k.3J,g=7(){m.D(5);5.1c=s};e.R(g,m,s);g.j.3E=7(){9 5.1c};g.j.7w=7(h){o(5.1c&&(5.57(),5.1c.1D(h)))9;h?(5.1c=h,(h=5.2H())&&5.3G(h)):5.1c=s};g.j.3H=7(h){9!1};g.j.2H=7(){9 s};k.3K=g;k.K("3K")})(F,G);(7(k,e){i m=e.7x,g=7(){m.D(5)};e.R(g,m,s);g.j.7y=7(){5.3L||(5.3L=H k.3F);9 5.3L};g.j.7z=7(){5.3M||(5.3M=H k.3K);9 5.3M};g.j.7A=7(){5.3N||(5.3N=H k.3O);9 5.3N};g.j.7B=7(){5.3P||(5.3P=H k.3Q);9 5.3P};g.j.7C=7(){5.3R||(5.3R=H k.3S);9 5.3R};g.j.59=7(h,a){i b=h.1b("2J");o(b){o(a.3T().3A())9 s;h.S("2J",s)}a=m.j.59.D(5,h,a);b&&h.S("2J",b);9 a};g.j.5a=7(h,a,b){2z{9 m.j.5a.D(5,h,a,b)}2A(d){9 I.11("7D 1Z 11",d),s}};g.j.7E=7(h){I.1f(!1,"1n 1o!");9!1};g.j.7F=7(h,a){I.1f(!1,"1n 1o!");9!1};g.j.2K=7(h,a){I.1f(!1,"1n 1o!");9!1};g.j.4P=7(){I.1e("7G")};k.5b=g;k.K("5b")})(F,G);(7(k,e){i m=e.A.3t,g=e.A.7H,h=e.A.7I,a=e.7J.7K,b=e.J.4m;e=e.J.27;i d=k.A.3x,f=k.A.3u,c=k.J.2S,l=k.J.2U,p=k.J.2T;k=k.J.2O;i r=H a(d);m.1l(d.3w,r);m.1l(d.3v,r);a=H a(f);m.1l(f.2C,a);m.1l(f.4U,a);m.1l(f.4V,a);e.1l(m.7L,H l);e.1l(g.7M,H p);e.1l(h.7N,H k);b.1l(0,H c)})(F,G);(7(k,e){i m=e.A.7O,g=e.7P,h=7(a){g.D(5,a)};e.R(h,g,s);h.j.5c=7(a){a:{i b=5.1a();a.7Q()||a.3k(b);o(!a.7R()){i d=a.7S();o(!d)d={};18 o(d.2L)1I a;i f=a.2M(),c=a.2e();c?b=b.2I(f,c,!1):(c=a.3T(),b=b.2I(f,c,!1));o(b){f=b.7T();o(!f||0===f.C){o("7U"===b.7V())1I a;13 H 3U("5d 1W 11: "+b.1B());}b=f.7W(f.C-6);b=e.2L.7X.2L(b);b=e.37.7Y.4x(b);d.2L=b.23(b.C-8);a.S("2m",d)}}}9 g.j.5c.D(5,a)};h.j.5e=7(a){9!a||2>a.C?(I.11("7Z 1W 11",a),s):g.j.5e.D(5,a)};h.j.3V=7(a){i b=g.j.3V.D(5,a),d=a.3T();d.3A()&&(a=a.2M(),5.1a().2I(a,d,!1).S("2J",!0));9 b};h.j.5f=7(a){2z{9 g.j.5f.D(5,a)}2A(f){o(0===f.E().14("1d 19 80 5d 3I 81: ")){i b=5.26().21(),d=b.82();o(!d||!d.4o())13 H 3U("1c 83 11: "+b.O);d=m.84(b.O,s,d);5.1a().85(b.O,a.2M(),d,s,0)}18 13 f;9 s}};k.3O=h;k.K("3O")})(F,G);(7(k,e){i m=e.A.12,g=e.A.17.42,h=e.A.17.43,a=e.86,b=7(f){a.D(5,f)};e.R(b,a,s);b.j.26=7(){9 5.1a().26()};i d=7(f,c){i l=f.2e();o(!l||l.1N())9!1;i p=5.1a(),r=5.26();o(!r.1J(l))9!0;i u=5.26();i y=u.1p(l);u=y&&0!==y.C?!u.1C():!0;o(u)9 f B g||f B h?!1:p.2K(l,c);o(r.53(c,l)||r.54(c,l)||r.87(c,l))9!1;c=f=!1;(u=r.1C(l))&&(f=p.2K(l,u));(r=r.2F(l))&&0<r.C&&(c=p.2K(l,r));9 f&&c};b.j.5g=7(f,c){i l=c.2M();o(d.D(5,f,l))9 f=f.2e(),c.S("5h",f.E()),5.1a().88(c),s;2z{9 a.j.5g.D(5,f,c)}2A(p){f=p.E();o(0<=f.14("1d 19 1Y 1K L ")&&(l=f.14(": "),0<l))o(l=m.U(f.23(l+2)))c.S("5h",l.E()),5.1a().89(c);18 13 H 4J("1d 19 1Y 12: "+f);9 s}};k.3Q=b;k.K("3Q")})(F,G);(7(k,e){i m=e.8a,g=7(h){m.D(5,h)};e.R(g,m,s);g.j.8b=7(h,a,b){i d=5.1a();8c(7(){i f=d.3V(h);o(s==f)9!1;i c=d.8d(f);o(s==c)13 H 3U("1d 19 8e 1u: "+f.1B());f=d.4N(c,a,b);9 d.8f(h)&&f},8g)};k.3S=g;k.K("3S")})(F,G);',62,513,'|||||this||function||return|||||||||var|prototype|||||if||||null||||||||protocol|instanceof|length|call|toString|SECHAT|DIMSDK|new|console|cpu|registers|for||save|identifier|load|db|Class|setValue|arguments|parse||__queue|network|push|__users||error|ID|throw|indexOf|__keys||group|else|to|getMessenger|getValue|user|failed|log|assert|__members|__docs|__metas|__timestamp|groupTable|register|received|implement|me|getMembers|__messages|gate|typeof|getInstance|message|text|Error|dos|__contacts|loadJSON|saveJSON|getMap|getOwner|equals|getName|members|LocalStorage|loadMessages|break|getMeta|meta|allUsers|userTable|isBroadcast|keyMap|object|Namespace|lnc|NotificationCenter|getContacts|splice|postNotification|data|saveMembers|get|content|getPrivateKeyForSignature|getCurrentUser|EXPIRES|substr|privateKeyTable|EXPIRES_KEY|getFacebook|CommandProcessor|getFilename|type|has|join|removed|process|getGroup|ContactTable|convert|saving|DocumentTable|getDocument|not|Object|keys|GroupTable|getFounder|exists|envelope|time|sn|MetaTable|META|UserTable|getMessage|__running|finish|try|catch|start|REPORT|255|contactTable|getAssistants|isDirty|loadKeys|getCipherKey|reused|queryGroupInfo|digest|getSender|execute|BlockCommandProcessor|File|added|getIdentifier|AnyContentProcessor|MuteCommandProcessor|ReceiptCommandProcessor|addContact|saveContacts|removeContact|contacts|saveDocument|addMember|removeMember|removeGroup|insert|saveMessages|getAddress|saveMeta|format|crypto|savePrivateKey|getPrivateKeysForDecryption|getPrivateKeyForVisaSignature|addUser|removeUser|setCurrentUser|MessageWrapper|eject|MessageQueue|__messenger|StarTrek|setDelegate|__active|storeMessage|isActive|isRunning|BaseSession|__msg|Date|getTime|Command|ReportCommand|ONLINE_USERS|SEARCH|SearchCommand|Interface|conforms|isGroup|Anonymous|metaTable|documentTable|getUser|CommonFacebook|updateKeys|saveKeys|in|KeyCache|KeyStore|__barrack|__keycache|__packer|CommonPacker|__processor|CommonProcessor|__transmitter|CommonTransmitter|getReceiver|ReferenceError|encryptMessage|FileContent|ImageContent|AudioContent|VideoContent|TextContent|PageContent|InviteCommand|ResetCommand|Facebook|MessageBuilder|Image|Voice|Movie|Current|version|doesn|support|getType|getGroupCommandText|getLoginCommandText|command|getInviteCommandText|getExpelCommandText|getQuitCommandText|getResetCommandText|getQueryCommandText|ContentProcessor|revert|isValid|document|conversationAtIndex|removeConversation|messages|conversation|Arrays|Messages|already|encode|PrivateKeyTable|VISA|PrivateTable|append|shift|next|isVirgin|mark|isFailed|startrek|createGate|SyntaxError|Delegate|setup|pop|sendReliableMessage|fail|onConnected|stargate|connection|string|setTitle|ONLINE|OFFLINE|title|setKeywords|users|getNumberString|getNumber|User|Group|containsMember|containsAssistant|createUser|createGroup|flush|hasOwnProperty|serializeKey|deserializeContent|CommonMessenger|serializeMessage|key|deserializeMessage|decryptMessage|processContent|waiting|LoginCommand|GroupCommand|ExpelCommand|QuitCommand|QueryCommand|getContentText|getText|getURL|getCommandText|getCommand|unsupported|invited|quit|chat|updated|was|querying|info|responding|getStation|host|port|login|ReceiptCommand|Text|Web|page|setSerialNumber|getSerialNumber|setEnvelope|getEnvelope|setSignature|signature|AddressNameTable|addRecord|removeRecord|ContactsUpdated|Document|valid|entity|kNotificationDocumentUpdated|profile|MembersUpdated|delete|LoginTable|getLoginCommand|saveLoginCommand|InstantMessage|SessionStorage|MessageTable|numberOfConversations|removeConversationAtIndex|numberOfMessages|numberOfUnreadMessages|clearUnreadMessages|lastMessage|lastReceivedMessage|messageAtIndex|insertMessage|duplicate|no|need|kNotificationMessageUpdated|removeMessage|found|withdrawMessage|saveReceipt|Meta|matches|mot|match|kNotificationMetaAccepted|JSON|MsgKeyTable|getKey|addKey|PrivateKey|getTerminal|unshift|threading|Runner|Gate|session|6E5|setActive|close|onGateStatusChanged|Status|CONNECTED|onGateReceived|getPayload|processData|ActiveConnection|WSGate|stop|Ship|Callback|onShipSent|onFinished|report|online|offline|getTitle|search|keywords|getUsers|getResults|results|NetworkType|mkm|BTCAddress|getNetwork|Base58|decode|16777216|TypeError|address|ROBOT|Robot|STATION|Station|PROVIDER|SP|isUser|Unknown|DecryptKey|Entity|18E5|expires|getLocalUsers|local|checkDocument|isExpiredDocument|assistant|CipherKeyDelegate|reload|PlainKey|cacheCipherKey|setUser|Messenger|getEntityDelegate|getCipherKeyDelegate|getPacker|getProcessor|getTransmitter|deserialize|queryMeta|queryDocument|connected|MuteCommand|BlockCommand|core|CommandFactory|RECEIPT|MUTE|BLOCK|DocumentCommand|MessagePacker|getDelegate|getEncryptedKey|getEncryptedKeys|getData|PLAIN|getAlgorithm|subarray|SHA256|Base64|receive|decrypt|msg|getVisa|visa|response|sendContent|MessageProcessor|isOwner|suspendMessage|suspendReliableMessage|MessageTransmitter|sendInstantMessage|setTimeout|signMessage|sign|saveMessage|128'.split('|'),0,{}));
