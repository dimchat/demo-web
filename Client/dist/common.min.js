/**
 *  DIM-Common (v0.1.0)
 *  (DIMP: Decentralized Instant Messaging Protocol)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      June. 11, 2021
 * @copyright (c) 2021 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */;
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('"1S"!==1q E&&(E=H F.1T);(7(l,f){"1S"!==1q l.J&&(l.J=H f.1T);"1S"!==1q l.P&&(l.P=H f.1T);"1S"!==1q l.X&&(l.X=H f.1T);"1S"!==1q l.A&&(l.A=H f.1T);l.K("J");l.K("P");l.K("X");l.K("A")})(E,F);(7(l,f){i m=f.J.29,k=7(){m.D(5)};f.Q(k,m,s);k.j.2Q=7(h,g){9 s};l.J.2R=k;l.J.K("2R")})(E,F);(7(l,f){i m=f.A.T,k=f.A.3X,h=f.A.3Y,g=f.A.3Z,d=f.A.40,a=f.A.41,c=f.A.42,b=f.A.5i,e=f.A.5j,n=f.A.13.43,r=f.A.13.5k,u=f.A.13.5l,w=f.A.13.44,z=f.A.13.5m,y=7(p){9 l.45.1r().1F(m.1a(p))};l.J.46={5n:7(p){9 p C k?p C h?"[47:"+p.2a()+"]":p C g?"[48:"+p.2a()+"]":p C d?"[49:"+p.2a()+"]":"[2S:"+p.2a()+"]":p C a?p.5o():p C c?"[2S:"+p.5p()+"]":"4a 4b 4c\'t 4d 5 1s 2b: "+p.4e()},5q:7(p,q){9 p C e?5.4f(p,q):p C b?5.4g(p,q):"4a 4b 4c\'t 4d 5 4h: "+p.5r()},4f:7(p,q){i t=p.1b("1t");o(t)9 t;o(p C n)9 5.4i(p,q);o(p C r)9 5.4j(p,q);o(p C u)9 5.4k(p,q);o(p C w)9 5.4l(p,q);o(p C z)9 5.4m(p,q);11 1u("5s 13 4h: "+p);},4i:7(p,q){i t=p.1b("2T");t||(t=[]);G(i v=[],x=0;x<t.B;++x)v.Y(y(t[x]));q=y(q)+" 2c 5t 1G: "+v.2d(", ");p.R("1t",q);9 q},4j:7(p,q){i t=p.1b("2e");t||(t=[]);G(i v=[],x=0;x<t.B;++x)v.Y(y(t[x]));q=y(q)+" 2c 2e 1G: "+v.2d(", ");p.R("1t",q);9 q},4k:7(p,q){q=y(q)+" 2c 5u 13 5v.";p.R("1t",q);9 q},4l:7(p,q){q=y(q)+" 2c 5w 1G";i t,v=p.1b("2e");o(v&&0<v.B){i x=[];G(t=0;t<v.B;++t)x.Y(y(v[t]));q+=", 2e: "+x.2d(", ")}o((v=p.1b("2T"))&&0<v.B){x=[];G(t=0;t<v.B;++t)x.Y(y(v[t]));q+=", 2T: "+x.2d(", ")}p.R("1t",q);9 q},4m:7(p,q){q=y(q)+" 5x 5y 13 5z, 5A...";p.R("1t",q);9 q},4g:7(p,q){q=p.2U();i t=p.5B();t&&(t="("+t.5C+":"+t.5D+") "+y(t.T));q=y(q)+" 5E: "+t;p.R("1t",q);9 q}};l.J.K("46")})(E,F);(7(l,f){i m=f.A.5F,k=f.A.3X,h=f.A.3Y,g=f.A.3Z,d=f.A.40,a=f.A.41,c=f.A.42,b=f.J.4n,e=7(){b.D(5)};f.Q(e,b,s);e.j.2f=7(n,r){o(n C k)i u=n C h?"47 1v":n C g?"48 1s 1v":n C d?"49 1v":"2S 1v";14 o(n C a)u="5G 1s 1v";14 o(n C c)u="5H 5I 1v";14 9 b.j.2f.D(5,n,r);o(n.2g())9 s;u=H m(u);u.5J(n.1U());u.5K(r.5L());u.5M(r.1b("5N"));9 u};l.J.2V=e;l.J.K("2V")})(E,F);(7(l,f){i m=f.J.29,k=7(){m.D(5)};f.Q(k,m,s);k.j.2Q=7(h,g){9 s};l.J.2W=k;l.J.K("2W")})(E,F);(7(l,f){i m=f.J.29,k=7(){m.D(5)};f.Q(k,m,s);k.j.2Q=7(h,g){9 s};l.J.2X=k;l.J.K("2X")})(E,F);(7(l,f){l.P.5O={2U:7(m){I.1f(!1,"1l 1m!");9 s},5P:7(m,k){I.1f(!1,"1l 1m!");9!1},5Q:7(m){I.1f(!1,"1l 1m!");9!1}}})(E,F);(7(l,f){i m=f.A.T,k=f.1w.1H,h=f.1V.1W;l.P.2h={1X:7(d){5.N();9 5.1I[d]},2Y:7(d,a){i c=5.1X(a);o(c){o(0<=c.12(d))9!1;c.Y(d)}14 c=[d];9 5.2Z(c,a)},30:7(d,a){i c=5.1X(a);o(!c)9!1;d=c.12(d);o(0>d)9!1;c.1Y(d,1);9 5.2Z(c,a)},2Z:7(d,a){5.N();5.1I[a]=d;I.1g("2i 31 G 1c",a);o(5.L())9 h.1r().1Z("5R",5,{1c:a,31:d}),!0;11 1u("1d 15 L 31: "+a+" -> "+d);},N:7(){o(!5.1I){i d=k.1x("2h"),a={};o(d)G(i c=17.18(d),b,e=0;e<c.B;++e)b=c[e],a[m.1a(b)]=m.2j(d[b]);5.1I=a}},L:7(){9 k.1y(g(5.1I),"2h")},1I:s};i g=7(d){G(i a={},c=17.18(d),b,e=0;e<c.B;++e)b=c[e],a[b.Z()]=m.32(d[b]);9 a}})(E,F);(7(l,f){i m=f.A.T,k=f.A.5S,h=f.1w.1H,g=f.1V.1W;l.P.2k={2l:7(a,c){5.N();9 5.1z[a]},33:7(a){o(!a.4o())9 I.U("34 2m 5T",a),!1;i c=a.2U();o(!c)11 1u("5U T U: "+a);5.N();5.1z[c]=a;I.1g("2i 34",c);o(5.L())9 g.1r().1Z(l.5V,5,a),!0;11 1u("1d 15 L 34: "+c+" -> "+a.1b("2n"));},N:7(){o(!5.1z){i a=h.1x("2k"),c={};o(a)G(i b=17.18(a),e,n=0;n<b.B;++n)e=b[n],c[m.1a(e)]=k.1a(a[e]);5.1z=c}},L:7(){9 h.1y(d(5.1z),"2k")},1z:s};i d=7(a){i c={};o(a)G(i b=17.18(a),e,n=0;n<b.B;++n)e=b[n],c[e.Z()]=a[e].1J();9 c}})(E,F);(7(l,f){i m=f.A.T,k=f.1w.1H,h=f.1V.1W;l.P.2o={2p:7(d){9 s},1A:7(d){9 s},1n:7(d){5.N();9 5.1o[d]},35:7(d,a){i c=5.1n(a);o(c){o(0<=c.12(d))9!1;c.Y(d)}14 c=[d];9 5.20(c,a)},36:7(d,a){i c=5.1n(a);o(!c)9!1;d=c.12(d);o(0>d)9!1;c.1Y(d,1);9 5.20(c,a)},20:7(d,a){5.N();5.1o[a]=d;I.1g("2i 1G G 13",a);o(5.L())9 h.1r().1Z("5W",5,{13:a,1G:d}),!0;11 1u("1d 15 L 1G: "+a+" -> "+d);},37:7(d){5.N();o(5.1o[d])9 4p 5.1o[d],5.L();I.U("13 2m 2q: "+d);9!1},N:7(){o(!5.1o){i d=k.1x("2o"),a={};o(d)G(i c,b=17.18(d),e=0;e<b.B;++e)c=b[e],a[m.1a(c)]=m.2j(d[c]);5.1o=a}},L:7(){9 k.1y(g(5.1o),"2o")},1o:s};i g=7(d){G(i a={},c,b=17.18(d),e=0;e<b.B;++e)c=b[e],a[c.Z()]=m.32(d[c]);9 a}})(E,F);(7(l,f){l.P.5X={5Y:7(m){},5Z:7(m){},1z:s}})(E,F);(7(l,f){i m=f.A.T,k=f.A.60,h=f.1w.61,g=f.1V.1W;l.P.62={63:7(){9 17.18(5.1h).B},4q:7(a){i c=17.18(5.1h);9 m.1a(c[a])},64:7(a){a=5.4q(a);9 5.4r(a)},4r:7(a){},65:7(a){9(a=5.1K(a))?a.B:0},66:7(a){},67:7(a){},68:7(a){9(a=5.1K(a))&&0<a.B?a[a.B-1]:s},69:7(a){},6a:7(a,c){i b=5.1K(c);I.1f(s!==b,"1d 15 21 4s G 4t: "+c);9 b[a]},6b:7(a,c){i b=5.1K(c);o(b){a:{i e=b;i n,r;(n=a.1B())||(n=0);i u=a.2r().1U();i w;G(w=e.B-1;0<=w;--w){i z=e[w];o((r=z.1B())&&r<n)1L;r=z.2r().1U();o(u===r){I.1g("6c 1s, 6d 6e 15 38");e=!1;1L a}}f.2b.4u.38(e,w+1,a);e=!0}o(!e)9!1}14 b=[a];o(5.39(b,c))9 g.1r().1Z(l.6f,5,{T:c,4v:a}),!0;11 1u("1d 15 L 1s: "+a);},6g:7(a,c){i b=5.1K(c);I.1f(s!==b,"1d 15 21 4s G 4t: "+c);a:{i e,n;(e=a.1B())||(e=0);i r=a.2r().1U();i u;G(u=b.B-1;0<=u;--u){i w=b[u];o((n=w.1B())&&n<e){I.1g("1s 2m 6h");a=!1;1L a}n=w.2r().1U();o(r===n)1L}f.2b.4u.38(b,u+1,a);a=!0}9 a?5.39(b,c):!1},6i:7(a,c){},6j:7(a,c){},1K:7(a){5.N(a);9 5.1h[a]},39:7(a,c){a&&0<a.B?5.1h[c]=a:4p 5.1h[c];9 5.L(c)},N:7(a){o(!5.1h[a]){i c=5.1h,b=h.1x("4w-"+a.3a().Z()),e=[];o(b)G(i n=0;n<b.B;++n)e.Y(k.1a(b[n]));c[a]=e}},L:7(a){9 h.1y(d(5.1h[a]),"4w-"+a.3a().Z())},1h:{}};i d=7(a){i c=[];o(a)G(i b=0;b<a.B;++b)c.Y(a[b].1J());9 c}})(E,F);(7(l,f){i m=f.A.T,k=f.A.6k,h=f.1w.1H,g=f.1V.1W;l.P.2s={1M:7(a){5.N();9 5.1C[a]},3b:7(a,c){o(!a.6l(c))9 I.U("1N 6m 6n",c,a),!1;5.N();o(5.1C[c])9 I.1g("1N 4x 2q",c),!0;5.1C[c]=a;I.1g("2i 1N",c);o(5.L())9 g.1r().1Z(l.6o,5,{T:c,1N:a}),!0;I.U("1d 15 L 1N",c,a);9!1},N:7(){o(!5.1C){i a=h.1x("2s"),c={};o(a)G(i b,e=17.18(a),n=0;n<e.B;++n)b=e[n],c[m.1a(b)]=k.1a(a[b]);5.1C=c}},L:7(){9 h.1y(d(5.1C),"2s")},1C:s};i d=7(a){i c={};o(a)G(i b,e=17.18(a),n=0;n<e.B;++n)b=e[n],c[b.Z()]=a[b].1J();9 c}})(E,F);(7(l,f){l.P.6p={6q:7(m,k){},6r:7(m,k,h){},1e:s}})(E,F);(7(l,f){i m=f.2t.6s,k=f.1w.1H;l.P.4y={2u:"M",4z:"V",3c:7(d,a,c,b,e){5.N();5.1e[h(d,c)]=a;c===5.2u&&(5.1e[h(d,s)]=a);9 5.L()},3d:7(d){5.N();i a=[],c=5.1e[h(d,s)],b=5.1e[h(d,5.2u)];(d=5.1e[h(d,5.4z)])&&a.Y(d);b&&0>a.12(b)&&a.Y(b);c&&0>a.12(c)&&a.Y(c);9 a},2v:7(d){9 5.2w(d)},2w:7(d){5.N();i a=5.1e[h(d,5.2u)];a||(a=5.1e[h(d,s)]);9 a},N:7(){o(!5.1e){i d=k.1x("4A"),a={};o(d)G(i c,b=17.18(d),e=0;e<b.B;++e)c=b[e],a[c]=m.1a(d[c]);5.1e=a}},L:7(){9 k.1y(g(5.1e),"4A")},1e:s};i h=7(d,a){o(!a||0===a.B)9 d.Z();i c=d.6t();9 c&&0<c.B?d.Z()+"#"+a:d.Z()+"/"+a},g=7(d){i a={};o(d)G(i c,b=17.18(d),e=0;e<b.B;++e)c=b[e],a[c]=d[c].1J();9 a}})(E,F);(7(l,f){i m=f.A.T,k=f.1w.1H;l.P.2x={1O:7(){5.N();9 5.22},3e:7(g){i d=5.1O();o(0>d.12(g))9 d.Y(g),5.L();I.U("1c 4x 2q",g);9!1},3f:7(g){i d=5.1O(),a=d.12(g);o(0>a)9 I.U("1c 2m 2q",g),!0;d.1Y(a,1);9 5.L()},3g:7(g){i d=5.1O(),a=d.12(g);o(0===a)9!0;0<a&&d.1Y(a,1);d.6u(g);9 5.L()},23:7(){i g=5.1O();9 0<g.B?g[0]:s},N:7(){o(!5.22){i g=(g=k.1x("2x"))?m.2j(g):[];5.22=g}},L:7(){9 k.1y(h(5.22),"2x")},22:s};i h=7(g){9 g?m.32(g):[]}})(E,F);(7(l,f){i m=7(){5.W=[]};f.Q(m,s,s);m.j.4B=7(k){k=H l.X.3h(k);5.W.Y(k);9!0};m.j.2y=7(){9 0<5.W.B?5.W.2y():s};m.j.4C=7(){G(i k,h=0;h<5.W.B;++h)o(k=5.W[h],k.4D())9 k.4E(),k;9 s};m.j.3i=7(){G(i k,h=0;h<5.W.B;++h)o(k=5.W[h],!k.2z()||k.4F())9 5.W.1Y(h,1),k;9 s};l.X.3j=m;l.X.K("3j")})(E,F);(7(l,f){i m=f.6v.6w,k=f.4G.6x,h=7(){m.D(5);o(2===S.B)5.1p=S[0],5.3k=S[1];14 o(3===S.B)5.1p=l.X.3l.4H(S[0],S[1]),5.3k=S[2];14 11 H 4I("6y S U: "+S);5.1p.3m(5);5.W=H l.X.3j;5.3n=!1};f.Q(h,m,[k.4J]);h.24=6z;h.j.3o=7(g){};h.j.19=7(){9 5.3k};h.j.3p=7(){9 5.3n&&5.1p.3q()};h.j.6A=7(g){5.3n=g};h.j.6B=7(){5.2A=!1};h.j.4K=7(){5.2A=!0;9 5.1p.4K()};h.j.2B=7(){5.2A=!1;o(5.1p.2B())9!0;i g;G(g=5.W.2y();g;)(g=g.2z())&&5.3o(g),g=5.W.2y();9!1};h.j.3q=7(){9 5.2A&&5.1p.3q()};h.j.2f=7(){o(5.1p.2f())9!0;i g;G(g=5.W.3i();g;)(g=g.2z())&&5.3o(g),g=5.W.3i();o(!5.3p())9!1;i d=5.W.4C();g=d?d.19():s;o(!g)9!1;5.19().4L(g,d,0)||d.4M();9!0};h.j.Y=7(g){9 5.3p()?5.W.4B(g):!1};h.j.6C=7(g,d,a){o(a.1D(k.6D.6E))5.19().4N()};h.j.6F=7(g,d){g=d.6G();2C{9 5.19().6H(g)}2D(a){9 I.1g("1v 2n U",a),s}};l.X.3r=h;l.X.K("3r")})(E,F);(7(l,f){i m=f.4O.6I,k=f.4O.6J,h=7(g){k.D(5,g)};f.Q(h,k,s);h.4H=7(g,d){g=H m(g,d);d=H h(g);g.3m(d);d.2E();9 d};h.j.2E=7(){5.4P.2E();k.j.2E.D(5)};h.j.2B=7(){k.j.2B.D(5);5.4P.6K()};l.X.3l=h;l.X.K("3l")})(E,F);(7(l,f){i m=7(k){5.3s=k;5.1i=0};f.Q(m,s,[f.4G.6L.4J,f.6M]);m.j.2z=7(){9 5.3s};m.j.4E=7(){5.1i=1};m.j.4M=7(){5.1i=-1};m.j.4D=7(){9 0===5.1i};m.j.4F=7(){9 0>5.1i?!0:0===5.1i?!1:(H 3t).1B()-5.1i>l.X.3r.24};m.j.6N=7(k,h){h?5.1i=-1:5.3s=s};m.j.6O=7(k,h){5.1i=h?-1:(H 3t).1B()};l.X.3h=m;l.X.K("3h")})(E,F);(7(l,f){i m=f.A.3u,k=7(){0===S.B?m.D(5,k.2F):"4Q"===1q S[0]?(m.D(5,k.2F),5.4R(S[0])):m.D(5,S[0])};f.Q(k,m,s);k.2F="6P";k.4S="6Q";k.4T="6R";k.j.4R=7(h){5.R("4U",h)};k.j.6S=7(){9 5.1b("4U")};l.A.3v=k;l.A.K("3v")})(E,F);(7(l,f){i m=f.A.T,k=f.A.3u,h=7(){0===S.B?k.D(5,h.3w):"4Q"===1q S[0]?(k.D(5,h.3x),5.4V(S[0])):k.D(5,S[0])};f.Q(h,k,s);h.3x="6T";h.3w="4W";h.j.4V=7(g){5.R("6U",g)};h.j.6V=7(){i g=5.1b("4W");9 g?m.2j(g):s};h.j.6W=7(){9 5.1b("6X")};l.A.3y=h;l.A.K("3y")})(E,F);(7(l,f){i m=f.A.6Y,k=f.A.T,h=f.6Z.70,g=7(){};f.Q(g,s,s);g.1F=7(a){i c;f.3z.3A(a,k)?(c=a.1F())&&0!==c.B||(c=d(a.4e())):c=d(a.71());a=g.4X(a);9 c+" ("+a+")"};g.4X=7(a){G(a=""+g.4Y(a);10>a.B;)a="0"+a;9 a.25(0,3)+"-"+a.25(3,3)+"-"+a.25(6)};g.4Y=7(a){f.3z.3A(a,k)&&(a=a.3a());o(a C h){a=f.4Z.72.73(a.Z());i c=a.B;9(a[c-1]&2G|(a[c-2]&2G)<<8|(a[c-3]&2G)<<16)+74*(a[c-4]&2G)}11 H 75("76 U: "+a.Z());};i d=7(a){9 m.77.1D(a)?"78":m.79.1D(a)?"7a":m.7b.1D(a)?"7c":m.7d(a)?"50":m.3B(a)?"51":"7e"};l.3C=g;l.K("3C")})(E,F);(7(l,f){i m=f.2t.7f,k=f.A.T,h=f.7g,g=f.50,d=f.51,a=f.45,c=7(){a.D(5);5.1E=s;5.26=l.P.4y;5.3D=l.P.2s;5.3E=l.P.2k;5.1P=l.P.2x;5.2H=l.P.2h;5.1j=l.P.2o};f.Q(c,a,s);c.24=7h;c.27="7i";c.j.7j=7(){o(!5.1E){G(i b=5.1P.1O(),e=[],n,r=0;r<b.B;++r)o(n=5.3F(b[r]))e.Y(n);14 11 1u("1d 15 21 7k 1c:"+n);5.1E=e}9 5.1E};c.j.23=7(){i b=5.1P.23();9 b?5.3F(b):a.j.23.D(5)};c.j.3g=7(b){5.1E=s;b C g&&(b=b.O);9 5.1P.3g(b)};c.j.3e=7(b){5.1E=s;b C g&&(b=b.O);9 5.1P.3e(b)};c.j.3f=7(b){5.1E=s;b C g&&(b=b.O);9 5.1P.3f(b)};c.j.2Y=7(b,e){b C h&&(b=b.O);e C g&&(e=e.O);9 5.2H.2Y(b,e)};c.j.30=7(b,e){b C h&&(b=b.O);e C g&&(e=e.O);9 5.2H.30(b,e)};c.j.3c=7(b,e){e C g&&(e=e.O);9 5.26.3c(b,e)};c.j.3b=7(b,e){9 5.3D.3b(b,e)};c.j.33=7(b){o(!5.7l(b))9!1;b.R(c.27,s);9 5.3E.33(b)};c.j.7m=7(b,e){i n=(H 3t).1B(),r=b.1b(c.27);o(!r)9 b.R(c.27,n+c.24),!1;o(n<r)9!1;e&&b.R(c.27,n+c.24);9!0};c.j.35=7(b,e){b C g&&(b=b.O);e C d&&(e=e.O);9 5.1j.35(b,e)};c.j.36=7(b,e){b C g&&(b=b.O);e C d&&(e=e.O);9 5.1j.36(b,e)};c.j.20=7(b,e){e C d&&(e=e.O);9 5.1j.20(b,e)};c.j.37=7(b){b C d&&(b=b.O);9 5.1j.37(b)};c.j.52=7(b,e){b C g&&(b=b.O);e C d&&(e=e.O);i n=5.1n(e);9 n&&0<=n.12(b)?!0:(e=5.1A(e))&&e.1D(b)};c.j.53=7(b,e){b C g&&(b=b.O);e C d&&(e=e.O);9(e=5.2I(e))&&0<=e.12(b)};c.j.1F=7(b){i e=5.2l(b,"*");9 e&&(e=e.1F())&&0<e.B?e:l.3C.1F(b)};c.j.54=7(b){9 b.1Q()||5.1M(b)?a.j.54.D(5,b):s};c.j.55=7(b){9 b.1Q()||5.1M(b)?a.j.55.D(5,b):s};c.j.1M=7(b){9 b.1Q()?s:5.3D.1M(b)};c.j.2l=7(b,e){9 5.3E.2l(b,e)};c.j.1X=7(b){9 5.2H.1X(b)};c.j.3d=7(b){i e=5.26.3d(b);e&&0!==e.B||(b=5.2v(b),f.3z.3A(b,m)&&(e=[b]));9 e};c.j.2v=7(b){9 5.26.2v(b)};c.j.2w=7(b){9 5.26.2w(b)};c.j.2p=7(b){i e=5.1j.2p(b);9 e?e:a.j.2p.D(5,b)};c.j.1A=7(b){i e=5.1j.1A(b);9 e?e:a.j.1A.D(5,b)};c.j.1n=7(b){i e=5.1j.1n(b);9 e&&0<e.B?e:a.j.1n.D(5,b)};c.j.2I=7(b){9(b=5.1j.2I(b))&&0<b.B?b:(b=k.1a("7n"))?[b]:s};l.3G=c;l.K("3G")})(E,F);(7(l,f){i m=f.2b.17,k=f.2t.7o,h=7(){m.D(5);5.1R={};5.2J=!1};f.Q(h,m,[f.7p]);h.j.7q=7(){i d=5.2K();9 d?5.3H(d):!1};h.j.56=7(){5.2J&&5.3I(5.1R)&&(5.2J=!1)};h.j.3I=7(d){I.1f(!1,"1l 1m!");9!1};h.j.2K=7(){I.1f(!1,"1l 1m!");9 s};h.j.3H=7(d){o(!d)9!1;i a=!1,c,b;G(c 3J d)o(d.57(c)){i e=d[c];G(b 3J e)o(e.57(b)){i n=e[b];i r=(r=5.1R[c])?r[b]:s;r!==n&&(a=!0);g.D(5,c,b,n)}}9 a};i g=7(d,a,c){i b=5.1R[d];o(b){o((d=b[a])&&d.1D(c))9}14 b={},5.1R[d]=b;b[a]=c};h.j.2L=7(d,a,c){o(a.1Q())9 f.2t.7r.1r();i b=(b=5.1R[d])?b[a]:s;!b&&c&&(b=k.7s(k.7t),5.58(d,a,b));9 b};h.j.58=7(d,a,c){a.1Q()||(g.D(5,d,a,c),5.2J=!0)};l.3K=h;l.K("3K")})(E,F);(7(l,f){i m=l.3K,k=7(){m.D(5);5.1c=s};f.Q(k,m,s);k.j.3F=7(){9 5.1c};k.j.7u=7(h){o(5.1c&&(5.56(),5.1c.1D(h)))9;h?(5.1c=h,(h=5.2K())&&5.3H(h)):5.1c=s};k.j.3I=7(h){9!1};k.j.2K=7(){9 s};l.3L=k;l.K("3L")})(E,F);(7(l,f){i m=f.7v,k=7(){m.D(5)};f.Q(k,m,s);k.j.7w=7(){5.3M||(5.3M=H l.3G);9 5.3M};k.j.7x=7(){5.3N||(5.3N=H l.3L);9 5.3N};k.j.7y=7(){5.3O||(5.3O=H l.3P(5));9 5.3O};k.j.7z=7(){5.3Q||(5.3Q=H l.3R(5));9 5.3Q};k.j.7A=7(){5.3S||(5.3S=H l.3T(5));9 5.3S};k.j.59=7(h,g){i d=h.1b("2M");o(d){o(g.3U().3B())9 s;h.R("2M",s)}g=m.j.59.D(5,h,g);d&&h.R("2M",d);9 g};k.j.5a=7(h,g,d){2C{9 m.j.5a.D(5,h,g,d)}2D(a){9 I.U("7B 7C U",a),s}};k.j.7D=7(h){I.1f(!1,"1l 1m!");9!1};k.j.7E=7(h,g){I.1f(!1,"1l 1m!");9!1};k.j.2N=7(h,g){I.1f(!1,"1l 1m!");9!1};k.j.4N=7(){I.1g("7F")};l.5b=k;l.K("5b")})(E,F);(7(l,f){i m=f.A.3u,k=f.A.7G,h=f.A.7H,g=f.7I.7J,d=f.J.4n;f=f.J.29;i a=l.A.3y,c=l.A.3v,b=l.J.2V,e=l.J.2X,n=l.J.2W;l=l.J.2R;i r=H g(a);m.1k(a.3x,r);m.1k(a.3w,r);g=H g(c);m.1k(c.2F,g);m.1k(c.4S,g);m.1k(c.4T,g);f.1k(m.7K,H e);f.1k(k.7L,H n);f.1k(h.7M,H l);d.1k(0,H b)})(E,F);(7(l,f){i m=f.A.7N,k=f.7O,h=7(g){k.D(5,g)};f.Q(h,k,s);h.j.5c=7(g){a:{i d=5.19();g.7P()||g.3m(d);o(!g.7Q()){i a=g.7R();o(!a)a={};14 o(a.2O)1L a;i c=g.2P(),b=g.2g();b?d=d.2L(c,b,!1):(b=g.3U(),d=d.2L(c,b,!1));o(d){c=d.7S();o(!c||0===c.B){o("7T"===d.7U())1L a;11 H 3V("5d 2n U: "+d.1J());}d=c.7V(c.B-6);d=f.2O.7W.2O(d);d=f.4Z.7X.7Y(d);a.2O=d.25(d.B-8);g.R("18",a)}}}9 k.j.5c.D(5,g)};h.j.5e=7(g){9!g||2>g.B?(I.U("7Z 2n U",g),s):k.j.5e.D(5,g)};h.j.3W=7(g){i d=k.j.3W.D(5,g),a=g.3U();a.3B()&&(g=g.2P(),5.19().2L(g,a,!1).R("2M",!0));9 d};h.j.5f=7(g){2C{9 k.j.5f.D(5,g)}2D(c){o(0===c.Z().12("1d 15 80 5d 3J 4v: ")){i d=5.28().23(),a=d.81();o(!a||!a.4o())11 H 3V("1c 82 U: "+d.O);a=m.83(d.O,s,a);5.19().84(d.O,g.2P(),a,s,0)}14 11 c;9 s}};l.3P=h;l.K("3P")})(E,F);(7(l,f){i m=f.A.T,k=f.A.13.43,h=f.A.13.44,g=f.85,d=7(c){g.D(5,c)};f.Q(d,g,s);d.j.28=7(){9 5.19().28()};i a=7(c,b){i e=c.2g();o(!e||e.1Q())9!1;i n=5.19(),r=5.28();o(!r.1M(e))9!0;i u=5.28();i w=u.1n(e);u=w&&0!==w.B?!u.1A():!0;o(u)9 c C k||c C h?!1:n.2N(e,b);o(r.52(b,e)||r.53(b,e)||r.86(b,e))9!1;b=c=!1;(u=r.1A(e))&&(c=n.2N(e,u));(r=r.2I(e))&&0<r.B&&(b=n.2N(e,r));9 c&&b};d.j.5g=7(c,b){i e=b.2P();o(a.D(5,c,e))9 c=c.2g(),b.R("5h",c.Z()),5.19().87(b),s;2C{9 g.j.5g.D(5,c,b)}2D(n){c=n.Z();o(0<=c.12("1d 15 21 1N G ")&&(e=c.12(": "),0<e))o(e=m.1a(c.25(e+2)))b.R("5h",e.Z()),5.19().88(b);14 11 H 4I("1d 15 21 T: "+c);9 s}};l.3R=d;l.K("3R")})(E,F);(7(l,f){i m=f.89,k=7(h){m.D(5,h)};f.Q(k,m,s);k.j.8a=7(h,g,d){i a=5.19();8b(7(){i c=a.3W(h);o(s==c)9!1;i b=a.8c(c);o(s==b)11 H 3V("1d 15 8d 1s: "+c.1J());c=a.4L(b,g,d);9 a.8e(h)&&c},8f);9!0};l.3T=k;l.K("3T")})(E,F);',62,512,'|||||this||function||return|||||||||var|prototype|||||if||||null||||||||protocol|length|instanceof|call|SECHAT|DIMSDK|for|new|console|cpu|registers|save||load|identifier|db|Class|setValue|arguments|ID|error||__queue|network|push|toString||throw|indexOf|group|else|to||Object|keys|getMessenger|parse|getValue|user|failed|__keys|assert|log|__messages|__timestamp|groupTable|register|implement|me|getMembers|__members|gate|typeof|getInstance|message|text|Error|received|dos|loadJSON|saveJSON|__docs|getOwner|getTime|__metas|equals|__localUsers|getName|members|LocalStorage|__contacts|getMap|loadMessages|break|getMeta|meta|allUsers|userTable|isBroadcast|keyMap|object|Namespace|getSerialNumber|lnc|NotificationCenter|getContacts|splice|postNotification|saveMembers|get|__users|getCurrentUser|EXPIRES|substr|privateKeyTable|EXPIRES_KEY|getFacebook|CommandProcessor|getFilename|type|has|join|removed|process|getGroup|ContactTable|saving|convert|DocumentTable|getDocument|not|data|GroupTable|getFounder|exists|getContent|MetaTable|crypto|META|getPrivateKeyForSignature|getPrivateKeyForVisaSignature|UserTable|shift|getMessage|__running|finish|try|catch|start|REPORT|255|contactTable|getAssistants|isDirty|loadKeys|getCipherKey|reused|queryGroupInfo|digest|getSender|execute|BlockCommandProcessor|File|added|getIdentifier|AnyContentProcessor|MuteCommandProcessor|ReceiptCommandProcessor|addContact|saveContacts|removeContact|contacts|revert|saveDocument|document|addMember|removeMember|removeGroup|insert|saveMessages|getAddress|saveMeta|savePrivateKey|getPrivateKeysForDecryption|addUser|removeUser|setCurrentUser|MessageWrapper|eject|MessageQueue|__messenger|StarTrek|setDelegate|__active|storeMessage|isActive|isRunning|BaseSession|__msg|Date|Command|ReportCommand|ONLINE_USERS|SEARCH|SearchCommand|Interface|conforms|isGroup|Anonymous|metaTable|documentTable|getUser|CommonFacebook|updateKeys|saveKeys|in|KeyCache|KeyStore|__barrack|__keycache|__packer|CommonPacker|__processor|CommonProcessor|__transmitter|CommonTransmitter|getReceiver|ReferenceError|encryptMessage|FileContent|ImageContent|AudioContent|VideoContent|TextContent|PageContent|InviteCommand|ResetCommand|Facebook|MessageBuilder|Image|Voice|Movie|Current|version|doesn|support|getType|getGroupCommandText|getLoginCommandText|command|getInviteCommandText|getExpelCommandText|getQuitCommandText|getResetCommandText|getQueryCommandText|ContentProcessor|isValid|delete|conversationAtIndex|removeConversation|messages|conversation|Arrays|msg|Messages|already|PrivateKeyTable|VISA|PrivateTable|append|next|isVirgin|mark|isFailed|startrek|createGate|SyntaxError|Delegate|setup|sendReliableMessage|fail|onConnected|stargate|connection|string|setTitle|ONLINE|OFFLINE|title|setKeywords|users|getNumberString|getNumber|format|User|Group|containsMember|containsAssistant|createUser|createGroup|flush|hasOwnProperty|cacheCipherKey|serializeKey|deserializeContent|CommonMessenger|serializeMessage|key|deserializeMessage|decryptMessage|processContent|waiting|LoginCommand|GroupCommand|ExpelCommand|QuitCommand|QueryCommand|getContentText|getText|getURL|getCommandText|getCommand|unsupported|invited|quit|chat|updated|was|querying|info|responding|getStation|host|port|login|ReceiptCommand|Text|Web|page|setSerialNumber|setEnvelope|getEnvelope|setSignature|signature|AddressNameTable|addRecord|removeRecord|ContactsUpdated|Document|valid|entity|kNotificationDocumentUpdated|MembersUpdated|LoginTable|getLoginCommand|saveLoginCommand|InstantMessage|SessionStorage|MessageTable|numberOfConversations|removeConversationAtIndex|numberOfMessages|numberOfUnreadMessages|clearUnreadMessages|lastMessage|lastReceivedMessage|messageAtIndex|insertMessage|duplicate|no|need|kNotificationMessageUpdated|removeMessage|found|withdrawMessage|saveReceipt|Meta|matches|mot|match|kNotificationMetaAccepted|MsgKeyTable|getKey|addKey|PrivateKey|getTerminal|unshift|threading|Runner|Gate|session|6E5|setActive|close|onGateStatusChanged|Status|CONNECTED|onGateReceived|getPayload|processData|ActiveConnection|WSGate|stop|Ship|Callback|onShipSent|onFinished|report|online|offline|getTitle|search|keywords|getUsers|getResults|results|NetworkType|mkm|BTCAddress|getNetwork|Base58|decode|16777216|TypeError|address|ROBOT|Robot|STATION|Station|PROVIDER|SP|isUser|Unknown|DecryptKey|Entity|18E5|expires|getLocalUsers|local|checkDocument|isExpiredDocument|assistant|SymmetricKey|CipherKeyDelegate|reload|PlainKey|generate|AES|setUser|Messenger|getEntityDelegate|getCipherKeyDelegate|getPacker|getProcessor|getTransmitter|deserialize|content|queryMeta|queryDocument|connected|MuteCommand|BlockCommand|core|CommandFactory|RECEIPT|MUTE|BLOCK|DocumentCommand|MessagePacker|getDelegate|getEncryptedKey|getEncryptedKeys|getData|PLAIN|getAlgorithm|subarray|SHA256|Base64|encode|receive|decrypt|getVisa|visa|response|sendContent|MessageProcessor|isOwner|suspendMessage|suspendReliableMessage|MessageTransmitter|sendInstantMessage|setTimeout|signMessage|sign|saveMessage|128'.split('|'),0,{}));
